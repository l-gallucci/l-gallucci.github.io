<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Title & Description -->
    <title>{{ page.title }} | {{ site.title }}</title>
    <meta name="description" content="{{ site.description | escape }}">
    <meta name="author" content="{{ site.author.name | default: site.title }}">

    <!-- SEO: jekyll-seo-tag -->
    {% seo %}

    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="{{ page.title | default: site.title }}">
    <meta property="og:description" content="{{ page.excerpt | strip_html | strip_newlines | truncate: 160 | default: site.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:image" content="{{ site.url }}{{ site.logo | default: '/assets/img/profile.jpg' }}">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ page.title | default: site.title }}">
    <meta name="twitter:description" content="{{ page.excerpt | strip_html | strip_newlines | truncate: 160 | default: site.description }}">
    <meta name="twitter:image" content="{{ site.url }}{{ site.logo | default: '/assets/img/profile.jpg' }}">
    <meta name="twitter:creator" content="@{{ site.author.twitter | default: site.author.github }}">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ site.baseurl }}/assets/img/favicon.png">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css">
  </head>

  <body>
    <!-- Navbar -->
    <header class="top-nav">
      <nav>
        <a href="/" class="nav-link" data-page="/">⌘ Home</a>
        <a href="/about/" class="nav-link" data-page="/about/">About</a>
        <a href="/research/" class="nav-link" data-page="/research/">Research</a>
        <a href="/creative/" class="nav-link" data-page="/creative/">Creative</a>
        <a href="/contact/" class="nav-link" data-page="/contact/">Contact</a>
      </nav>

      <div class="social-icons">
        <a href="https://github.com/l-gallucci" target="_blank" aria-label="GitHub">
          <img src="{{ '/assets/icons/github-bw.svg' | relative_url }}" alt="GitHub">
        </a>
        <a href="https://www.linkedin.com/in/luigi-gallucci-scientificprofile/" target="_blank" aria-label="LinkedIn">
          <img src="{{ '/assets/icons/linkedin-bw.jpg' | relative_url }}" alt="LinkedIn">
        </a>
        <a href="https://bsky.app/profile/luigallucci.bsky.social" target="_blank" aria-label="Bluesky">
          <img src="{{ '/assets/icons/bluesky-bw.svg' | relative_url }}" alt="Bluesky">
        </a>
        <a href="https://x.com/luigallucci" target="_blank" aria-label="X">
          <img src="{{ '/assets/icons/x-bw.svg' | relative_url }}" alt="X">
        </a>
        <a href="https://www.instagram.com/luigigallucci_?igsh=MTZmdnBnanNnZTE1Mg%3D%3D&utm_source=qr" target="_blank" aria-label="Instagram">
          <img src="{{ '/assets/icons/instagram-bw.svg' | relative_url }}" alt="Instagram">
        </a>
      </div>
    </header>

    <!-- Main content -->
    <main class="content">
      {{ content }}
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>© {{ site.time | date: "%Y" }} {{ site.author.name }} · 
        <a href="https://github.com/{{ site.author.github }}">GitHub</a>
      </p>
    </footer>

    <!-- Optional page-specific scripts -->
    {% if page.scripts %}
      {% for script in page.scripts %}
        <script src="{{ script | relative_url }}"></script>
      {% endfor %}
    {% endif %}

    <script>
    // Highlight active page tab automatically
    document.addEventListener('DOMContentLoaded', () => {
      const currentPath = window.location.pathname;
      const links = document.querySelectorAll('.nav-link');

      links.forEach(link => {
        const page = link.getAttribute('data-page');
        if (currentPath === page) {
          link.classList.add('active');
        }
      });
    });
  </script>
  </body>
</html>
